// ÂÆö‰πâÊ≠åÊõ≤Êï∞ÊçÆÁ±ªÂûã
interface songItemType {
  img: string
  name: string
  author: string
  url: string
  id: string
}

// ÂÆö‰πâÂä®ÊÄÅÊï∞ÊçÆÁ±ªÂûã
interface momentListType {
  author: string
  avatar: string
  content: string
  comment: number
  like: number
  song: songItemType
}

@Component
export struct Moment {
  // Ê≠åÊõ≤Êï∞ÊçÆ
  songs: songItemType[] = [
    {
      img: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/0.jpg',
      name: 'Áõ¥Âà∞‰∏ñÁïåÁöÑÂ∞ΩÂ§¥',
      author: 'WANDS',
      url: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/0.m4a',
      id: '0000'
    },
    {
      img: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/1.jpg',
      name: 'Áîª',
      author: 'ËµµÁ£ä',
      url: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/1.mp3',
      id: '0001'
    },
    {
      img: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/2.jpg',
      name: 'Sweet Dreams',
      author: 'TPaul Sax / Eurythmics',
      url: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/2.mp3',
      id: '0002'
    },
    {
      img: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/3.jpg',
      name: 'Â•¢È¶ôÂ§´‰∫∫',
      author: 'Âá§Âá∞‰º†Â•á',
      url: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/3.m4a',
      id: '0003'
    },
    {
      img: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/4.jpg',
      name: 'Á©∫ÂøÉ',
      author: 'ÂÖâÊ≥Ω',
      url: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/4.mp3',
      id: '0004'
    },
    {
      img: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/5.jpg',
      name: 'ÂèçËΩ¨Âú∞ÁêÉ',
      author: 'ÊΩòÁéÆÊüè',
      url: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/5.mp3',
      id: '0005'
    },
    {
      img: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/6.jpg',
      name: 'No.9',
      author: 'T-ara',
      url: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/6.m4a',
      id: '0006'
    },
    {
      img: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/7.jpg',
      name: 'Â≠§Áã¨',
      author: 'G.E.M.ÈÇìÁ¥´Ê£ã',
      url: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/7.m4a',
      id: '0007'
    },
    {
      img: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/8.jpg',
      name: 'Lose Control',
      author: 'Hedley',
      url: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/8.m4a',
      id: '0008'
    },
    {
      img: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/9.jpg',
      name: 'ÂÄ©Â•≥ÂπΩÈ≠Ç',
      author: 'Âº†ÂõΩËç£',
      url: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/9.m4a',
      id: '0009'
    },
    {
      img: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/10.jpg',
      name: 'Âåó‰∫¨Âåó‰∫¨',
      author: 'Ê±™Â≥∞',
      url: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/10.m4a',
      id: '0010'
    },
    {
      img: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/11.jpg',
      name: 'Ëã¶Á¨ë',
      author: 'Ê±™ËãèÊ≥∑',
      url: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/11.mp3',
      id: '0011'
    },
    {
      img: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/12.jpg',
      name: '‰∏ÄÁîüÊâÄÁà±',
      author: 'Âç¢ÂÜ†Âª∑ / Ëé´ÊñáËîö',
      url: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/12.m4a',
      id: '0012'
    },
    {
      img: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/13.jpg',
      name: 'ÊúàÂçäÂ∞èÂ§úÊõ≤',
      author: 'ÊùéÂÖãÂã§',
      url: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/13.mp3',
      id: '0013'
    },
    {
      img: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/14.jpg',
      name: 'Rolling in the Deep',
      author: 'Adele',
      url: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/14.m4a',
      id: '0014'
    },
    {
      img: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/15.jpg',
      name: 'Êµ∑ÈòîÂ§©Á©∫',
      author: 'Beyond',
      url: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/15.m4a',
      id: '0015'
    }
  ]

  // Âä®ÊÄÅÊï∞ÊçÆ
  momentList: momentListType[] = [
    {
      author: 'Feast-aws',
      avatar: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/h0.jpg',
      content: '‰∫åÂçÅÂá†Â≤ÅÁöÑ‰Ω†Ôºå‰∏ÄÊó†ÊâÄÊúâÔºå‰πüÊã•Êúâ‰∏ÄÂàáÔºÅ',
      comment: 604,
      like: 23382,
      song: this.songs[0]
    },
    {
      author: 'CeeYet',
      avatar: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/h1.jpg',
      content: 'Áîª‰∏Ä‰∏™ÂßëÂ®òÈô™ÁùÄÊàë,ÂÜçÁîª‰∏Ä‰∏™ÂßëÂ®òÈô™ÁùÄÊàë',
      comment: 1237,
      like: 5482,
      song: this.songs[1]
    },
    {
      author: 'Z_HOUSC',
      avatar: 'http://yjy-teach-oss.oss-cn-beijing.aliyuncs.com/HeimaCloudMusic/h2.jpg',
      content: 'Ëøô‰∏™‰∫ãËøòÂæó‰ªé‰∏§‰∏™ËÅå‰∏öÈÄâÊâãËØ¥Ëµ∑',
      comment: 8425,
      like: 4234,
      song: this.songs[2]
    }
  ]

  build() {
    Column() {
      // Ê†áÈ¢ò
      Text("‰∫íÂä®ÂπøÂú∫")
        .fontSize(18)
        .fontColor("#fff")
        .fontWeight(FontWeight.Bold)
        .padding({ top: 20, bottom: 20, left: 16, right: 16 })
        .width('100%')
        .textAlign(TextAlign.Start)

      // Âä®ÊÄÅÂàóË°®
      List({ space: 16 }) {
        ForEach(this.momentList, (moment: momentListType) => {
          ListItem() {
            Column() {
              // Áî®Êà∑‰ø°ÊÅØÂíåÂÜÖÂÆπ - Ê∞¥Âπ≥Â∏ÉÂ±ÄÔºåÂ§¥ÂÉèÈ°∂ÈÉ®ÂØπÈΩê
              Row({ space: 12 }) {
                // Áî®Êà∑Â§¥ÂÉè
                Image(moment.avatar)
                  .width(40)
                  .height(40)
                  .borderRadius(20)
                  .objectFit(ImageFit.Cover)

                // Áî®Êà∑ÂêçÂíåÂÜÖÂÆπ
                Column({ space: 6 }) {
                  Text(moment.author)
                    .fontSize(14)
                    .fontColor("#fff")
                    .fontWeight(FontWeight.Medium)
                    .alignSelf(ItemAlign.Start)

                  Text(moment.content)
                    .fontSize(14)
                    .fontColor("#aaa")
                    .lineHeight(20)
                    .alignSelf(ItemAlign.Start)
                }
                .alignItems(HorizontalAlign.Start)
                .layoutWeight(1)
              }
              .alignItems(VerticalAlign.Top)
              .width('100%')

              // Ê≠åÊõ≤‰ø°ÊÅØÂç°Áâá
              Row({ space: 12 }) {
                Image(moment.song.img)
                  .width(40)
                  .height(40)
                  .borderRadius(4)
                  .objectFit(ImageFit.Cover)

                Column({ space: 4 }) {
                  Text(moment.song.name)
                    .fontSize(14)
                    .fontColor("#fff")
                    .maxLines(1)
                    .textOverflow({ overflow: TextOverflow.Ellipsis })
                    .alignSelf(ItemAlign.Start)

                  Text(moment.song.author)
                    .fontSize(12)
                    .fontColor("#888")
                    .maxLines(1)
                    .textOverflow({ overflow: TextOverflow.Ellipsis })
                    .alignSelf(ItemAlign.Start)
                }
                .alignItems(HorizontalAlign.Start)
                .layoutWeight(1)

                // Êí≠ÊîæÊåâÈíÆ
                Text("‚ñ∂")
                  .fontSize(16)
                  .fontColor("#fff")
              }
              .width('100%')
              .padding(12)
              .backgroundColor("rgba(255, 255, 255, 0.1)")
              .borderRadius(8)
              .margin({ top: 12, left: 52 })

              // ‰∫íÂä®ÊåâÈíÆ
              Row({ space: 24 }) {
                // ÂàÜ‰∫´
                Row({ space: 4 }) {
                  Text("‚Üó")
                    .fontSize(14)
                    .fontColor("#888")
                  Text("ÂàÜ‰∫´")
                    .fontSize(12)
                    .fontColor("#888")
                }

                // ËØÑËÆ∫
                Row({ space: 4 }) {
                  Text("üí¨")
                    .fontSize(14)
                    .fontColor("#888")
                  Text(moment.comment.toString())
                    .fontSize(12)
                    .fontColor("#888")
                }

                // ÁÇπËµû
                Row({ space: 4 }) {
                  Text("‚ô•")
                    .fontSize(14)
                    .fontColor("#888")
                  Text(moment.like.toString())
                    .fontSize(12)
                    .fontColor("#888")
                }

                Blank()
              }
              .width('100%')
              .margin({ top: 12, left: 52 })
            }
            .alignItems(HorizontalAlign.Start)
            .width('100%')
            .padding({ left: 16, right: 16, top: 12, bottom: 12 })
          }
        })
      }
      .layoutWeight(1)
      .scrollBar(BarState.Off)
    }
    .width('100%')
    .height('100%')
    .backgroundColor("#000")
  }
}